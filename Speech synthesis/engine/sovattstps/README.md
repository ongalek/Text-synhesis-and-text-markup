# Text processing for speech synthesis

Этот пакет был создан для построения на модульной основе процессоров текста, необходимых для получения текста, готового для передачи системам синтеза речи. На данный момент поддерживаются только русский и английский языки. Для английского языка есть только базовая поддержка (см. [Основные функции](https://github.com/sovaai/sova-tts/wiki/NLP-preprocessor#basic-functionality)); для русского языка реализованы следующие модули:

* Модуль замены Е на Э на основе [словаря](http://dataset.sova.ai/SOVA-TTS/tps_data/e.dict)
* Модуль замены Е на Ё на основе [словаря](http://dataset.sova.ai/SOVA-TTS/tps_data/yo.dict)
* Модуль установки ударения на основе [словаря](http://dataset.sova.ai/SOVA-TTS/tps_data/stress.dict)

Проект имеет потенциал для расширения другими модулями (g2p, нормализаторы) и языками.

# Как использовать

## Модули
Допустим, вам нужно расставить ударения в некотором тексте. Для этой задачи вам понадобится модуль установки ударений (Emphasizer):
```python
from tps import download
from tps.data import find
from tps.modules import Emphasizer


try:
    stress_dict = find("stress.dict", raise_exception=True)
except FileNotFoundError:
    stress_dict = download("stress.dict")

emphasizer = Emphasizer("ru", (stress_dict, "plane"))
text = "Привет, мир! Смотри, как я умею ставить ударения в словах."
emphasizer.process_text(text)
```
результатом будет
```
'Привет, м+ир! Смотри, как я ум+ею ставить удар+ения в слов+ах.'
```

Так как этот модуль чувствителен к регистру, вы получите другой результат, если привести текст к нижнему регистру:

```python
emphasizer.process_text(text.lower())
```
результатом будет
```
'прив+ет, м+ир! смотри, как я ум+ею ставить удар+ения в слов+ах.'
```

## Обработчик (Handler)

Предположим, вам нужно подготовить текст для передачи в систему синтеза речи. У вас есть два возможных сценария.

### Основные функции
Предположим, у вас уже есть очищенный и размеченный текст для обучения системы синтеза. В этом случае вам нужна только базовая функциона
